<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export2.dtd">
<en-export export-date="20130813T212729Z" application="Evernote/Windows" version="4.x">
<note><title>类库 - Unit</title><content><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">

<en-note style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div>CLevelExp</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;经验值等级，具有经验等级属性的模型可以使用。</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;每个等级阶段可以拥有不同的最大经验值</div><div>&nbsp; &nbsp; &nbsp;每次升级经验值归零</div><div>&nbsp; &nbsp; &nbsp;支持继承、传回调两种修饰方法，优先级前者较高</div><div>&nbsp; &nbsp; &nbsp;升级通知回调</div><div>&nbsp; &nbsp; &nbsp;更新最大经验值公式回调</div><div><br/></div><div><br/></div><div>CLife</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;生命体，带有血量的模型可以使用。</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;死亡后setHp将无效，除非调用revive</div><div>&nbsp; &nbsp; &nbsp;setMaxHp后，当前HP将根据比例进行变化</div><div>&nbsp; &nbsp; &nbsp;复活通知</div><div>&nbsp; &nbsp; &nbsp;死亡通知</div><div>&nbsp; &nbsp; &nbsp;HP变化通知</div><div><br/></div><div><br/></div><div>CAttackValue</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;攻击值，表示攻击能力，用于伤害计算</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;可以同时描述多种攻击类型中的一种或多种</div><div>&nbsp; &nbsp; &nbsp;每种攻击类型可以拥有一种或多种文本描述</div><div><br/></div><div><br/></div><div>CArmorValue</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;护甲值，表示防御能力，用于伤害计算</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;可以同时描述多种护甲类型中的一种或多种</div><div>&nbsp; &nbsp; &nbsp;没种护甲类型可以用有一种或多种文本描述</div><div><br/></div><div><br/></div><div>g_afAttackArmorTable</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;攻击防御系数表，用于伤害计算</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;m x n 矩阵</div><div><br/></div><div><br/></div><div>CAttackBuff</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;攻击附加BUFF，用于攻击效果计算</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;携带BUFF附加概率、BUFF信息</div><div><br/></div><div><br/></div><div>CAttackData</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;攻击数据，用于伤害级伤害效果计算</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;继承于CAttackValue，故携带攻击值信息</div><div>&nbsp; &nbsp; &nbsp;携带一个或多个攻击附加BUFF</div><div><br/></div><div><br/></div><div>CExtraCoeff</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;多项式，f = ax + b</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;设定a和b的值返回f</div><div><br/></div><div><br/></div><div>CUnitForce</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;单位势力，带势力的模型可以使用</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;可以设置同盟掩码</div><div><br/></div><div><br/></div><div>CForceResouce</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;势力资源，一个势力所拥有的资源总和</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;继承于CUnitForce，故携带势力信息</div><div>&nbsp; &nbsp; &nbsp;资源变化通知</div><div><br/></div><div><br/></div><div>CUnit</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;单位，单位事件的承载体</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;继承于CLife，携带生命相关信息</div><div>&nbsp; &nbsp; &nbsp;携带技能、BUFF信息，可增删</div><div>&nbsp; &nbsp; &nbsp;在添加技能、BUFF的时候可能会注册一些事件触发器</div><div>&nbsp; &nbsp; &nbsp;携带包裹信息，可增删</div><div>&nbsp; &nbsp; &nbsp;攻击目标通知</div><div>&nbsp; &nbsp; &nbsp;成为攻击目标通知</div><div>&nbsp; &nbsp; &nbsp;受到伤害通知</div><div>&nbsp; &nbsp; &nbsp;伤害目标通知</div><div>&nbsp; &nbsp; &nbsp;复活通知</div><div>&nbsp; &nbsp; &nbsp;死亡通知</div><div>&nbsp; &nbsp; &nbsp;HP变化通知</div><div>&nbsp; &nbsp; &nbsp;时间刻通知</div><div>&nbsp; &nbsp; &nbsp;抛射物爆炸通知</div><div>&nbsp; &nbsp; &nbsp;</div><div><br/></div><div>CCGameUnitSprite</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;游戏单位精灵，用于游戏单位的贴图</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCSprite</div><div>&nbsp; &nbsp; &nbsp;设置展示帧</div><div>&nbsp; &nbsp; &nbsp;支持影子节点，影子节点位置跟随精灵，但翻转角度始终不变，用于血条贴图等</div><div>&nbsp; &nbsp; &nbsp;</div><div><br/></div><div>CGameUnit</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;游戏单位，游戏中单位逻辑体</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;继承于CUnit、CUnitForce、CLevelExp，携带单位、势力以及等级等信息</div><div>&nbsp; &nbsp; &nbsp;通过资源名创建</div><div>&nbsp; &nbsp; &nbsp;通过单位信息创建，用于通过编辑器加载</div><div>&nbsp; &nbsp; &nbsp;支持移动、跟随、按照路径移动、攻击、施法、暂停、恢复、转向等指令</div><div>&nbsp; &nbsp; &nbsp;基础移动速度、实际移动多项式系数</div><div>&nbsp; &nbsp; &nbsp;基础攻击间隔、实际攻击速度多项式系数、最小攻击距离、最大攻击距离、攻击值、攻击值浮动范围、武器类型、仇恨范围、抛射物信息</div><div>&nbsp; &nbsp; &nbsp;支持多种随即攻击动作</div><div>&nbsp; &nbsp; &nbsp;可作为固定不可移动的单位</div><div>&nbsp; &nbsp; &nbsp;支持暂停中、移动中、强制中、攻击中、施法中、旋转中等状态量</div><div>&nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp;</div><div>CProjectile</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;抛射物，承载法术弹、攻击效果的逻辑体，用来传递攻击数据</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;继承于CGameUnit，所以可以携带技能等单位相关信息</div><div>&nbsp; &nbsp; &nbsp;可以携带攻击数据</div><div>&nbsp; &nbsp; &nbsp;支持跟随型、闪电链型、震荡波型三种类型的抛射物</div><div>&nbsp; &nbsp; &nbsp;目标点或单位、所有者、起始单位</div><div>&nbsp; &nbsp; &nbsp;支持立即发射(如闪电链)、跟随发射(火球术)、波动发射(震荡波)三种指令</div><div>&nbsp; &nbsp; &nbsp;立即发射的闪电链，抛射物会立即播放死亡动画，并进行伤害计算</div><div>&nbsp; &nbsp; &nbsp;跟随发射的火球术，抛射物会进行移动，最终于目标碰撞后播放死亡动画，并进行伤害计算</div><div>&nbsp; &nbsp; &nbsp;波动发射的震荡波，抛射物会进行移动，移动中对碰撞的目标进行伤害计算，抵达终点后播放死亡动画</div><div>&nbsp; &nbsp; &nbsp;所有抛射物的死亡后，会触发持有者的onDestoryProjectile通知</div><div><br/></div><div><br/></div><div>CUnitGroup</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;单位组，用于批量操作单位</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;批量选取地图上的单位</div><div><br/></div><div><br/></div><div>CCUnitLayer</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;单位层，CGameUnit的容器</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCLayerColor</div><div>&nbsp; &nbsp; &nbsp;支持设置时间刻的粒度</div><div>&nbsp; &nbsp; &nbsp;时间刻通知，用于驱动单位的所有事件</div><div>&nbsp; &nbsp; &nbsp;用于协调各个资源的释放顺序</div><div><br/></div><div><br/></div><div>CCWinUnitLayer</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;窗口单位层，CGameUnit的容器，大地图局部显示时可用</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCLayerColor</div><div>&nbsp; &nbsp; &nbsp;继承于CCUnitLayer</div><div>&nbsp; &nbsp; &nbsp;支持大地图局部显示</div><div>&nbsp; &nbsp; &nbsp;可以设置背景精灵、边界碰撞缓冲弹力系数等参数</div><div>&nbsp; &nbsp; &nbsp;可以获取用户对屏幕操作的方式</div><div><br/></div><div><br/></div><div>CUnitPath</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;单位路径，单位沿路径移动时传入</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;支持以文件的形式保存、加载，用于支持编辑器</div><div>&nbsp; &nbsp; &nbsp;</div><div><br/></div><div>CUnitInfo</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;单位信息，用于创建单位</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;包有单位的非硬性属性</div><div>&nbsp; &nbsp; &nbsp;</div><div><br/></div><div>CUnitInfoPatch</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;单位信息补丁，用于创建单位</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;包括单位的非硬性属性中的素材不相关属性，专用于编辑器编辑</div><div><br/></div><div><br/></div><div>CUnitManager</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;单位管理器，用于通过索引创建单位</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;全局单件</div><div>&nbsp; &nbsp; &nbsp;预先将单位信息放到单位管理器中，给索引时，管理器会通过对应的单位信息创建一个单位，并返回</div><div>&nbsp; &nbsp; &nbsp;传入整数返回单位指针，多用于编辑器支持、存档等功能</div><div><br/></div><div><br/></div><div>CProjectileManager</div><div>描述</div><div>&nbsp; &nbsp; &nbsp;抛射物管理器，用于通过key创建抛射物</div><div>特性</div><div>&nbsp; &nbsp; &nbsp;CCObject</div><div>&nbsp; &nbsp; &nbsp;全局单件</div><div>&nbsp; &nbsp; &nbsp;预先将抛射物对象放到管理器中，给key时返回抛射物</div><div>&nbsp; &nbsp; &nbsp;支持复制抛射物</div><div><br/></div><div><br/></div><div><br/></div></en-note>]]></content><created>20130716T070733Z</created><updated>20130719T040854Z</updated></note></en-export>
